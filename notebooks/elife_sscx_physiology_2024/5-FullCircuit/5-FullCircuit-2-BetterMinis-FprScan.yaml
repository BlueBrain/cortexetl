version: 4
simulation_campaign: /gpfs/bbp.cscs.ch/project/proj83/home/isbister/simulations/elife_sscx_physiology_2024/5-FullCircuit/5-FullCircuit-2-BetterMinis-FprScan/5d83d4c2-693c-4ecc-a9da-c8dd2c8100c3/config.json

cache:
  path: /gpfs/bbp.cscs.ch/project/proj83/home/isbister/data/cortexetl_output/elife_sscx_physiology_2024/5-FullCircuit/5-FullCircuit-2-BetterMinis-FprScan
  clear: false
  
analysis:
  hex0_spikes:
    extraction:

      report: {type: spikes}
      limit: null
      node_set: hex0

      neuron_classes:
        L23_EXC:
          query:
            layer: [2, 3]
            synapse_class: [EXC]
        L4_EXC:
          query:
            layer: [4]
            synapse_class: [EXC]
        L5_EXC:
          query:
            layer: [5]
            synapse_class: [EXC]
        L6_EXC:
          query:
            layer: [6]
            synapse_class: [EXC]
        L1_INH:
          query:
            layer: [1]
            synapse_class: [INH]
        L23_INH:
          query:
            layer: [2, 3]
            synapse_class: [INH]
        L4_INH:
          query:
            layer: [4]
            synapse_class: [INH]
        L5_INH:
          query:
            layer: [5]
            synapse_class: [INH]
        L6_INH:
          query:
            layer: [6]
            synapse_class: [INH]
        ALL_INH:
          query:
            synapse_class: [INH]
          limit: null
        ALL_EXC:
          query:
            synapse_class: [EXC]
          limit: null
        ALL: {limit: null}

      windows:
        unconn_2nd_half: { bounds: [ 500, 1000 ], window_type: spontaneous }
        conn_spont: { bounds: [ 1500, 4500 ], window_type: spontaneous }

    features:
    - type: multi
      groupby: [simulation_id, circuit_id, neuron_class, window]
      function: cortexetl.calculate_features.calculate_features_multi
      params:
        export_all_neurons: true
        histograms:
          1ms:
            bin_size: 1.0
            smoothing:
              1sd: {smoothing_type: Gaussian, kernel_sd: 1.0}
              3sd: {smoothing_type: Gaussian, kernel_sd: 3.0}
          3ms:
            bin_size: 3.0
            smoothing:
              1sd: {smoothing_type: Gaussian, kernel_sd: 1.0}

    custom:

      plot_multi_sim_analysis: false
      plot_rasters: false
      create_raster_videos: false
      extract_fr_df: false
      
      independent_variables: ["ca", "desired_connected_proportion_of_invivo_frs", "depol_stdev_mean_ratio"]
      vivo_frs: {L1_INH: 1.5, L23_EXC: 0.07, L23_INH: 0.961, L4_EXC: 0.619, L4_INH: 1.184, L5_EXC: 1.252, L5_INH: 2.357, L6_EXC: 0.47, L6_INH: 1.5}
      heatmap_dims: {hor_key: "ca", ver_key: "none", x_key: "desired_connected_proportion_of_invivo_frs", y_key: "depol_stdev_mean_ratio"}
      raster_windows: [{conn_spont: 5.0}]
      fr_comparison_pairs: [['unconn_2nd_half', 'conn_spont'], ['desired_connected_fr', 'conn_spont'], ['desired_unconnected_fr', 'unconn_2nd_half'], ['connection_fr_increase', 'connection_fr_error']]
      desired_connected_fr_key: desired_connected_fr
      desired_unconnected_fr_key: desired_unconnected_fr
      ei_corr_r_val_limits: [0.15, 0.4]
      depol_bc_key: gExc

      campaign_short_name: "1st nbS1 conn."
      fr_df_name: "connection_data_from_mgfix_5-FullCircuit-2-BetterMinis-FprScan_10-04-23.parquet"

      fr_analysis_neuron_classes_constant: LAYER_EI_NEURON_CLASSES
      vertical_plot_seperate_groupings: E_AND_I_SEPERATE_GROUPINGS
      input_conductance_by_neuron_class_parquet: /gpfs/bbp.cscs.ch/project/proj83/home/isbister/physiology_2023/reference_data_do_not_delete/input_conductance_by_neuron_class_EI.parquet

  hex59_spikes:
    extraction:

      report: {type: spikes}
      node_set: hex59

      neuron_classes:
        L23_EXC:
          query:
            layer: [2, 3]
            synapse_class: [EXC]
        L4_EXC:
          query:
            layer: [4]
            synapse_class: [EXC]
        L5_EXC:
          query:
            layer: [5]
            synapse_class: [EXC]
        L6_EXC:
          query:
            layer: [6]
            synapse_class: [EXC]
        L1_INH:
          query:
            layer: [1]
            synapse_class: [INH]
        L23_INH:
          query:
            layer: [2, 3]
            synapse_class: [INH]
        L4_INH:
          query:
            layer: [4]
            synapse_class: [INH]
        L5_INH:
          query:
            layer: [5]
            synapse_class: [INH]
        L6_INH:
          query:
            layer: [6]
            synapse_class: [INH]
        ALL_INH:
          query:
            synapse_class: [INH]
          limit: null
        ALL_EXC:
          query:
            synapse_class: [EXC]
          limit: null
        ALL: {limit: null}

      windows:
        unconn_2nd_half: { bounds: [ 500, 1000 ], window_type: spontaneous }
        conn_spont: { bounds: [ 1500, 4500 ], window_type: spontaneous }

    features:
    - type: multi
      groupby: [simulation_id, circuit_id, neuron_class, window]
      function: cortexetl.calculate_features.calculate_features_multi
      params:
        export_all_neurons: true
        histograms:
          1ms:
            bin_size: 1.0
            smoothing:
              1sd: {smoothing_type: Gaussian, kernel_sd: 1.0}
              3sd: {smoothing_type: Gaussian, kernel_sd: 3.0}
          3ms:
            bin_size: 3.0
            smoothing:
              1sd: {smoothing_type: Gaussian, kernel_sd: 1.0}

    custom:

      plot_multi_sim_analysis: true
      plot_rasters: false
      create_raster_videos: false
      extract_fr_df: false
      
      independent_variables: ["ca", "desired_connected_proportion_of_invivo_frs", "depol_stdev_mean_ratio"]
      vivo_frs: {L1_INH: 1.5, L23_EXC: 0.07, L23_INH: 0.961, L4_EXC: 0.619, L4_INH: 1.184, L5_EXC: 1.252, L5_INH: 2.357, L6_EXC: 0.47, L6_INH: 1.5}
      heatmap_dims: {hor_key: "ca", ver_key: "none", x_key: "desired_connected_proportion_of_invivo_frs", y_key: "depol_stdev_mean_ratio"}
      raster_windows: [{conn_spont: 5.0}]
      fr_comparison_pairs: [['unconn_2nd_half', 'conn_spont'], ['desired_connected_fr', 'conn_spont'], ['desired_unconnected_fr', 'unconn_2nd_half'], ['connection_fr_increase', 'connection_fr_error']]
      desired_connected_fr_key: desired_connected_fr
      desired_unconnected_fr_key: desired_unconnected_fr
      ei_corr_r_val_limits: [0.15, 0.4]
      depol_bc_key: gExc

      campaign_short_name: "1st nbS1 conn."
      fr_df_name: "connection_data_from_mgfix_5-FullCircuit-2-BetterMinis-FprScan_10-04-23.parquet"

  hexes_spikes:
    extraction:

      report: {type: spikes}
      limit: null
      node_set: null

      neuron_classes:
        L1_INH_0:
          node_set: hex0
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_0:
          node_set: hex0
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_0:
          node_set: hex0
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_0:
          node_set: hex0
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_0:
          node_set: hex0
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_0:
          node_set: hex0
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_0:
          node_set: hex0
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_0:
          node_set: hex0
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_0:
          node_set: hex0
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_1:
          node_set: hex1
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_1:
          node_set: hex1
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_1:
          node_set: hex1
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_1:
          node_set: hex1
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_1:
          node_set: hex1
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_1:
          node_set: hex1
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_1:
          node_set: hex1
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_1:
          node_set: hex1
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_1:
          node_set: hex1
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_2:
          node_set: hex2
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_2:
          node_set: hex2
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_2:
          node_set: hex2
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_2:
          node_set: hex2
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_2:
          node_set: hex2
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_2:
          node_set: hex2
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_2:
          node_set: hex2
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_2:
          node_set: hex2
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_2:
          node_set: hex2
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_3:
          node_set: hex3
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_3:
          node_set: hex3
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_3:
          node_set: hex3
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_3:
          node_set: hex3
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_3:
          node_set: hex3
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_3:
          node_set: hex3
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_3:
          node_set: hex3
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_3:
          node_set: hex3
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_3:
          node_set: hex3
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_4:
          node_set: hex4
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_4:
          node_set: hex4
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_4:
          node_set: hex4
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_4:
          node_set: hex4
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_4:
          node_set: hex4
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_4:
          node_set: hex4
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_4:
          node_set: hex4
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_4:
          node_set: hex4
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_4:
          node_set: hex4
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_5:
          node_set: hex5
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_5:
          node_set: hex5
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_5:
          node_set: hex5
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_5:
          node_set: hex5
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_5:
          node_set: hex5
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_5:
          node_set: hex5
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_5:
          node_set: hex5
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_5:
          node_set: hex5
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_5:
          node_set: hex5
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_6:
          node_set: hex6
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_6:
          node_set: hex6
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_6:
          node_set: hex6
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_6:
          node_set: hex6
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_6:
          node_set: hex6
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_6:
          node_set: hex6
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_6:
          node_set: hex6
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_6:
          node_set: hex6
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_6:
          node_set: hex6
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_7:
          node_set: hex7
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_7:
          node_set: hex7
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_7:
          node_set: hex7
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_7:
          node_set: hex7
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_7:
          node_set: hex7
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_7:
          node_set: hex7
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_7:
          node_set: hex7
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_7:
          node_set: hex7
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_7:
          node_set: hex7
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_8:
          node_set: hex8
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_8:
          node_set: hex8
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_8:
          node_set: hex8
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_8:
          node_set: hex8
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_8:
          node_set: hex8
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_8:
          node_set: hex8
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_8:
          node_set: hex8
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_8:
          node_set: hex8
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_8:
          node_set: hex8
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_9:
          node_set: hex9
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_9:
          node_set: hex9
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_9:
          node_set: hex9
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_9:
          node_set: hex9
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_9:
          node_set: hex9
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_9:
          node_set: hex9
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_9:
          node_set: hex9
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_9:
          node_set: hex9
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_9:
          node_set: hex9
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_10:
          node_set: hex10
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_10:
          node_set: hex10
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_10:
          node_set: hex10
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_10:
          node_set: hex10
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_10:
          node_set: hex10
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_10:
          node_set: hex10
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_10:
          node_set: hex10
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_10:
          node_set: hex10
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_10:
          node_set: hex10
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_11:
          node_set: hex11
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_11:
          node_set: hex11
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_11:
          node_set: hex11
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_11:
          node_set: hex11
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_11:
          node_set: hex11
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_11:
          node_set: hex11
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_11:
          node_set: hex11
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_11:
          node_set: hex11
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_11:
          node_set: hex11
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_12:
          node_set: hex12
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_12:
          node_set: hex12
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_12:
          node_set: hex12
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_12:
          node_set: hex12
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_12:
          node_set: hex12
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_12:
          node_set: hex12
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_12:
          node_set: hex12
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_12:
          node_set: hex12
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_12:
          node_set: hex12
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_13:
          node_set: hex13
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_13:
          node_set: hex13
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_13:
          node_set: hex13
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_13:
          node_set: hex13
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_13:
          node_set: hex13
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_13:
          node_set: hex13
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_13:
          node_set: hex13
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_13:
          node_set: hex13
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_13:
          node_set: hex13
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_14:
          node_set: hex14
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_14:
          node_set: hex14
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_14:
          node_set: hex14
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_14:
          node_set: hex14
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_14:
          node_set: hex14
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_14:
          node_set: hex14
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_14:
          node_set: hex14
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_14:
          node_set: hex14
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_14:
          node_set: hex14
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_15:
          node_set: hex15
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_15:
          node_set: hex15
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_15:
          node_set: hex15
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_15:
          node_set: hex15
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_15:
          node_set: hex15
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_15:
          node_set: hex15
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_15:
          node_set: hex15
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_15:
          node_set: hex15
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_15:
          node_set: hex15
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_16:
          node_set: hex16
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_16:
          node_set: hex16
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_16:
          node_set: hex16
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_16:
          node_set: hex16
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_16:
          node_set: hex16
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_16:
          node_set: hex16
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_16:
          node_set: hex16
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_16:
          node_set: hex16
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_16:
          node_set: hex16
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_17:
          node_set: hex17
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_17:
          node_set: hex17
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_17:
          node_set: hex17
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_17:
          node_set: hex17
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_17:
          node_set: hex17
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_17:
          node_set: hex17
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_17:
          node_set: hex17
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_17:
          node_set: hex17
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_17:
          node_set: hex17
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_18:
          node_set: hex18
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_18:
          node_set: hex18
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_18:
          node_set: hex18
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_18:
          node_set: hex18
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_18:
          node_set: hex18
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_18:
          node_set: hex18
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_18:
          node_set: hex18
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_18:
          node_set: hex18
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_18:
          node_set: hex18
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_19:
          node_set: hex19
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_19:
          node_set: hex19
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_19:
          node_set: hex19
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_19:
          node_set: hex19
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_19:
          node_set: hex19
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_19:
          node_set: hex19
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_19:
          node_set: hex19
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_19:
          node_set: hex19
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_19:
          node_set: hex19
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_20:
          node_set: hex20
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_20:
          node_set: hex20
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_20:
          node_set: hex20
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_20:
          node_set: hex20
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_20:
          node_set: hex20
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_20:
          node_set: hex20
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_20:
          node_set: hex20
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_20:
          node_set: hex20
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_20:
          node_set: hex20
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_21:
          node_set: hex21
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_21:
          node_set: hex21
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_21:
          node_set: hex21
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_21:
          node_set: hex21
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_21:
          node_set: hex21
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_21:
          node_set: hex21
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_21:
          node_set: hex21
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_21:
          node_set: hex21
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_21:
          node_set: hex21
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_22:
          node_set: hex22
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_22:
          node_set: hex22
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_22:
          node_set: hex22
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_22:
          node_set: hex22
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_22:
          node_set: hex22
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_22:
          node_set: hex22
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_22:
          node_set: hex22
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_22:
          node_set: hex22
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_22:
          node_set: hex22
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_23:
          node_set: hex23
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_23:
          node_set: hex23
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_23:
          node_set: hex23
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_23:
          node_set: hex23
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_23:
          node_set: hex23
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_23:
          node_set: hex23
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_23:
          node_set: hex23
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_23:
          node_set: hex23
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_23:
          node_set: hex23
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_24:
          node_set: hex24
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_24:
          node_set: hex24
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_24:
          node_set: hex24
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_24:
          node_set: hex24
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_24:
          node_set: hex24
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_24:
          node_set: hex24
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_24:
          node_set: hex24
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_24:
          node_set: hex24
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_24:
          node_set: hex24
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_25:
          node_set: hex25
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_25:
          node_set: hex25
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_25:
          node_set: hex25
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_25:
          node_set: hex25
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_25:
          node_set: hex25
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_25:
          node_set: hex25
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_25:
          node_set: hex25
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_25:
          node_set: hex25
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_25:
          node_set: hex25
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_26:
          node_set: hex26
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_26:
          node_set: hex26
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_26:
          node_set: hex26
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_26:
          node_set: hex26
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_26:
          node_set: hex26
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_26:
          node_set: hex26
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_26:
          node_set: hex26
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_26:
          node_set: hex26
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_26:
          node_set: hex26
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_27:
          node_set: hex27
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_27:
          node_set: hex27
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_27:
          node_set: hex27
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_27:
          node_set: hex27
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_27:
          node_set: hex27
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_27:
          node_set: hex27
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_27:
          node_set: hex27
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_27:
          node_set: hex27
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_27:
          node_set: hex27
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_28:
          node_set: hex28
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_28:
          node_set: hex28
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_28:
          node_set: hex28
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_28:
          node_set: hex28
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_28:
          node_set: hex28
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_28:
          node_set: hex28
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_28:
          node_set: hex28
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_28:
          node_set: hex28
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_28:
          node_set: hex28
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_29:
          node_set: hex29
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_29:
          node_set: hex29
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_29:
          node_set: hex29
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_29:
          node_set: hex29
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_29:
          node_set: hex29
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_29:
          node_set: hex29
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_29:
          node_set: hex29
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_29:
          node_set: hex29
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_29:
          node_set: hex29
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_30:
          node_set: hex30
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_30:
          node_set: hex30
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_30:
          node_set: hex30
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_30:
          node_set: hex30
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_30:
          node_set: hex30
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_30:
          node_set: hex30
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_30:
          node_set: hex30
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_30:
          node_set: hex30
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_30:
          node_set: hex30
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_31:
          node_set: hex31
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_31:
          node_set: hex31
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_31:
          node_set: hex31
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_31:
          node_set: hex31
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_31:
          node_set: hex31
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_31:
          node_set: hex31
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_31:
          node_set: hex31
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_31:
          node_set: hex31
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_31:
          node_set: hex31
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_32:
          node_set: hex32
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_32:
          node_set: hex32
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_32:
          node_set: hex32
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_32:
          node_set: hex32
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_32:
          node_set: hex32
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_32:
          node_set: hex32
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_32:
          node_set: hex32
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_32:
          node_set: hex32
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_32:
          node_set: hex32
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_33:
          node_set: hex33
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_33:
          node_set: hex33
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_33:
          node_set: hex33
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_33:
          node_set: hex33
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_33:
          node_set: hex33
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_33:
          node_set: hex33
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_33:
          node_set: hex33
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_33:
          node_set: hex33
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_33:
          node_set: hex33
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_34:
          node_set: hex34
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_34:
          node_set: hex34
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_34:
          node_set: hex34
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_34:
          node_set: hex34
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_34:
          node_set: hex34
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_34:
          node_set: hex34
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_34:
          node_set: hex34
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_34:
          node_set: hex34
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_34:
          node_set: hex34
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_35:
          node_set: hex35
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_35:
          node_set: hex35
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_35:
          node_set: hex35
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_35:
          node_set: hex35
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_35:
          node_set: hex35
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_35:
          node_set: hex35
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_35:
          node_set: hex35
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_35:
          node_set: hex35
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_35:
          node_set: hex35
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_36:
          node_set: hex36
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_36:
          node_set: hex36
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_36:
          node_set: hex36
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_36:
          node_set: hex36
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_36:
          node_set: hex36
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_36:
          node_set: hex36
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_36:
          node_set: hex36
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_36:
          node_set: hex36
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_36:
          node_set: hex36
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_37:
          node_set: hex37
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_37:
          node_set: hex37
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_37:
          node_set: hex37
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_37:
          node_set: hex37
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_37:
          node_set: hex37
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_37:
          node_set: hex37
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_37:
          node_set: hex37
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_37:
          node_set: hex37
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_37:
          node_set: hex37
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_38:
          node_set: hex38
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_38:
          node_set: hex38
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_38:
          node_set: hex38
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_38:
          node_set: hex38
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_38:
          node_set: hex38
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_38:
          node_set: hex38
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_38:
          node_set: hex38
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_38:
          node_set: hex38
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_38:
          node_set: hex38
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_39:
          node_set: hex39
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_39:
          node_set: hex39
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_39:
          node_set: hex39
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_39:
          node_set: hex39
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_39:
          node_set: hex39
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_39:
          node_set: hex39
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_39:
          node_set: hex39
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_39:
          node_set: hex39
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_39:
          node_set: hex39
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_40:
          node_set: hex40
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_40:
          node_set: hex40
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_40:
          node_set: hex40
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_40:
          node_set: hex40
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_40:
          node_set: hex40
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_40:
          node_set: hex40
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_40:
          node_set: hex40
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_40:
          node_set: hex40
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_40:
          node_set: hex40
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_41:
          node_set: hex41
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_41:
          node_set: hex41
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_41:
          node_set: hex41
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_41:
          node_set: hex41
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_41:
          node_set: hex41
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_41:
          node_set: hex41
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_41:
          node_set: hex41
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_41:
          node_set: hex41
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_41:
          node_set: hex41
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_42:
          node_set: hex42
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_42:
          node_set: hex42
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_42:
          node_set: hex42
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_42:
          node_set: hex42
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_42:
          node_set: hex42
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_42:
          node_set: hex42
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_42:
          node_set: hex42
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_42:
          node_set: hex42
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_42:
          node_set: hex42
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_43:
          node_set: hex43
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_43:
          node_set: hex43
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_43:
          node_set: hex43
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_43:
          node_set: hex43
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_43:
          node_set: hex43
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_43:
          node_set: hex43
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_43:
          node_set: hex43
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_43:
          node_set: hex43
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_43:
          node_set: hex43
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_44:
          node_set: hex44
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_44:
          node_set: hex44
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_44:
          node_set: hex44
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_44:
          node_set: hex44
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_44:
          node_set: hex44
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_44:
          node_set: hex44
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_44:
          node_set: hex44
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_44:
          node_set: hex44
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_44:
          node_set: hex44
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_45:
          node_set: hex45
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_45:
          node_set: hex45
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_45:
          node_set: hex45
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_45:
          node_set: hex45
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_45:
          node_set: hex45
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_45:
          node_set: hex45
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_45:
          node_set: hex45
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_45:
          node_set: hex45
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_45:
          node_set: hex45
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_46:
          node_set: hex46
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_46:
          node_set: hex46
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_46:
          node_set: hex46
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_46:
          node_set: hex46
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_46:
          node_set: hex46
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_46:
          node_set: hex46
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_46:
          node_set: hex46
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_46:
          node_set: hex46
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_46:
          node_set: hex46
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_47:
          node_set: hex47
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_47:
          node_set: hex47
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_47:
          node_set: hex47
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_47:
          node_set: hex47
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_47:
          node_set: hex47
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_47:
          node_set: hex47
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_47:
          node_set: hex47
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_47:
          node_set: hex47
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_47:
          node_set: hex47
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_48:
          node_set: hex48
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_48:
          node_set: hex48
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_48:
          node_set: hex48
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_48:
          node_set: hex48
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_48:
          node_set: hex48
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_48:
          node_set: hex48
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_48:
          node_set: hex48
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_48:
          node_set: hex48
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_48:
          node_set: hex48
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_49:
          node_set: hex49
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_49:
          node_set: hex49
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_49:
          node_set: hex49
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_49:
          node_set: hex49
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_49:
          node_set: hex49
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_49:
          node_set: hex49
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_49:
          node_set: hex49
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_49:
          node_set: hex49
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_49:
          node_set: hex49
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_50:
          node_set: hex50
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_50:
          node_set: hex50
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_50:
          node_set: hex50
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_50:
          node_set: hex50
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_50:
          node_set: hex50
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_50:
          node_set: hex50
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_50:
          node_set: hex50
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_50:
          node_set: hex50
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_50:
          node_set: hex50
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_51:
          node_set: hex51
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_51:
          node_set: hex51
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_51:
          node_set: hex51
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_51:
          node_set: hex51
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_51:
          node_set: hex51
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_51:
          node_set: hex51
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_51:
          node_set: hex51
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_51:
          node_set: hex51
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_51:
          node_set: hex51
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_52:
          node_set: hex52
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_52:
          node_set: hex52
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_52:
          node_set: hex52
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_52:
          node_set: hex52
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_52:
          node_set: hex52
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_52:
          node_set: hex52
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_52:
          node_set: hex52
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_52:
          node_set: hex52
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_52:
          node_set: hex52
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_53:
          node_set: hex53
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_53:
          node_set: hex53
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_53:
          node_set: hex53
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_53:
          node_set: hex53
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_53:
          node_set: hex53
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_53:
          node_set: hex53
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_53:
          node_set: hex53
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_53:
          node_set: hex53
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_53:
          node_set: hex53
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_54:
          node_set: hex54
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_54:
          node_set: hex54
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_54:
          node_set: hex54
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_54:
          node_set: hex54
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_54:
          node_set: hex54
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_54:
          node_set: hex54
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_54:
          node_set: hex54
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_54:
          node_set: hex54
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_54:
          node_set: hex54
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_55:
          node_set: hex55
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_55:
          node_set: hex55
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_55:
          node_set: hex55
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_55:
          node_set: hex55
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_55:
          node_set: hex55
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_55:
          node_set: hex55
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_55:
          node_set: hex55
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_55:
          node_set: hex55
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_55:
          node_set: hex55
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_56:
          node_set: hex56
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_56:
          node_set: hex56
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_56:
          node_set: hex56
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_56:
          node_set: hex56
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_56:
          node_set: hex56
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_56:
          node_set: hex56
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_56:
          node_set: hex56
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_56:
          node_set: hex56
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_56:
          node_set: hex56
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_57:
          node_set: hex57
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_57:
          node_set: hex57
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_57:
          node_set: hex57
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_57:
          node_set: hex57
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_57:
          node_set: hex57
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_57:
          node_set: hex57
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_57:
          node_set: hex57
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_57:
          node_set: hex57
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_57:
          node_set: hex57
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_58:
          node_set: hex58
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_58:
          node_set: hex58
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_58:
          node_set: hex58
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_58:
          node_set: hex58
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_58:
          node_set: hex58
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_58:
          node_set: hex58
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_58:
          node_set: hex58
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_58:
          node_set: hex58
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_58:
          node_set: hex58
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_59:
          node_set: hex59
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_59:
          node_set: hex59
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_59:
          node_set: hex59
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_59:
          node_set: hex59
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_59:
          node_set: hex59
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_59:
          node_set: hex59
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_59:
          node_set: hex59
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_59:
          node_set: hex59
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_59:
          node_set: hex59
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_60:
          node_set: hex60
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_60:
          node_set: hex60
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_60:
          node_set: hex60
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_60:
          node_set: hex60
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_60:
          node_set: hex60
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_60:
          node_set: hex60
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_60:
          node_set: hex60
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_60:
          node_set: hex60
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_60:
          node_set: hex60
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_61:
          node_set: hex61
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_61:
          node_set: hex61
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_61:
          node_set: hex61
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_61:
          node_set: hex61
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_61:
          node_set: hex61
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_61:
          node_set: hex61
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_61:
          node_set: hex61
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_61:
          node_set: hex61
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_61:
          node_set: hex61
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_62:
          node_set: hex62
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_62:
          node_set: hex62
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_62:
          node_set: hex62
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_62:
          node_set: hex62
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_62:
          node_set: hex62
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_62:
          node_set: hex62
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_62:
          node_set: hex62
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_62:
          node_set: hex62
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_62:
          node_set: hex62
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_63:
          node_set: hex63
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_63:
          node_set: hex63
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_63:
          node_set: hex63
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_63:
          node_set: hex63
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_63:
          node_set: hex63
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_63:
          node_set: hex63
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_63:
          node_set: hex63
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_63:
          node_set: hex63
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_63:
          node_set: hex63
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_64:
          node_set: hex64
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_64:
          node_set: hex64
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_64:
          node_set: hex64
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_64:
          node_set: hex64
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_64:
          node_set: hex64
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_64:
          node_set: hex64
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_64:
          node_set: hex64
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_64:
          node_set: hex64
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_64:
          node_set: hex64
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_65:
          node_set: hex65
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_65:
          node_set: hex65
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_65:
          node_set: hex65
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_65:
          node_set: hex65
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_65:
          node_set: hex65
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_65:
          node_set: hex65
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_65:
          node_set: hex65
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_65:
          node_set: hex65
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_65:
          node_set: hex65
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_66:
          node_set: hex66
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_66:
          node_set: hex66
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_66:
          node_set: hex66
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_66:
          node_set: hex66
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_66:
          node_set: hex66
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_66:
          node_set: hex66
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_66:
          node_set: hex66
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_66:
          node_set: hex66
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_66:
          node_set: hex66
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_67:
          node_set: hex67
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_67:
          node_set: hex67
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_67:
          node_set: hex67
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_67:
          node_set: hex67
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_67:
          node_set: hex67
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_67:
          node_set: hex67
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_67:
          node_set: hex67
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_67:
          node_set: hex67
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_67:
          node_set: hex67
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_68:
          node_set: hex68
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_68:
          node_set: hex68
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_68:
          node_set: hex68
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_68:
          node_set: hex68
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_68:
          node_set: hex68
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_68:
          node_set: hex68
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_68:
          node_set: hex68
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_68:
          node_set: hex68
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_68:
          node_set: hex68
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_69:
          node_set: hex69
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_69:
          node_set: hex69
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_69:
          node_set: hex69
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_69:
          node_set: hex69
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_69:
          node_set: hex69
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_69:
          node_set: hex69
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_69:
          node_set: hex69
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_69:
          node_set: hex69
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_69:
          node_set: hex69
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_70:
          node_set: hex70
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_70:
          node_set: hex70
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_70:
          node_set: hex70
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_70:
          node_set: hex70
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_70:
          node_set: hex70
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_70:
          node_set: hex70
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_70:
          node_set: hex70
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_70:
          node_set: hex70
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_70:
          node_set: hex70
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_71:
          node_set: hex71
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_71:
          node_set: hex71
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_71:
          node_set: hex71
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_71:
          node_set: hex71
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_71:
          node_set: hex71
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_71:
          node_set: hex71
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_71:
          node_set: hex71
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_71:
          node_set: hex71
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_71:
          node_set: hex71
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_72:
          node_set: hex72
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_72:
          node_set: hex72
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_72:
          node_set: hex72
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_72:
          node_set: hex72
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_72:
          node_set: hex72
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_72:
          node_set: hex72
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_72:
          node_set: hex72
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_72:
          node_set: hex72
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_72:
          node_set: hex72
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_73:
          node_set: hex73
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_73:
          node_set: hex73
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_73:
          node_set: hex73
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_73:
          node_set: hex73
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_73:
          node_set: hex73
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_73:
          node_set: hex73
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_73:
          node_set: hex73
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_73:
          node_set: hex73
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_73:
          node_set: hex73
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_74:
          node_set: hex74
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_74:
          node_set: hex74
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_74:
          node_set: hex74
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_74:
          node_set: hex74
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_74:
          node_set: hex74
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_74:
          node_set: hex74
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_74:
          node_set: hex74
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_74:
          node_set: hex74
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_74:
          node_set: hex74
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_75:
          node_set: hex75
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_75:
          node_set: hex75
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_75:
          node_set: hex75
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_75:
          node_set: hex75
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_75:
          node_set: hex75
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_75:
          node_set: hex75
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_75:
          node_set: hex75
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_75:
          node_set: hex75
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_75:
          node_set: hex75
          query:
            layer: [6]
            synapse_class: INH
        L1_INH_76:
          node_set: hex76
          query:
            layer: [1]
            synapse_class: INH
        L23_EXC_76:
          node_set: hex76
          query:
            layer: [2, 3]
            synapse_class: EXC
        L23_INH_76:
          node_set: hex76
          query:
            layer: [2, 3]
            synapse_class: INH
        L4_EXC_76:
          node_set: hex76
          query:
            layer: [4]
            synapse_class: EXC
        L4_INH_76:
          node_set: hex76
          query:
            layer: [4]
            synapse_class: INH
        L5_EXC_76:
          node_set: hex76
          query:
            layer: [5]
            synapse_class: EXC
        L5_INH_76:
          node_set: hex76
          query:
            layer: [5]
            synapse_class: INH
        L6_EXC_76:
          node_set: hex76
          query:
            layer: [6]
            synapse_class: EXC
        L6_INH_76:
          node_set: hex76
          query:
            layer: [6]
            synapse_class: INH


        ALL_EXC_0:
          node_set: hex0
          query:
            synapse_class: EXC
        ALL_INH_0:
          node_set: hex0
          query:
            synapse_class: INH
        ALL_EXC_1:
          node_set: hex1
          query:
            synapse_class: EXC
        ALL_INH_1:
          node_set: hex1
          query:
            synapse_class: INH
        ALL_EXC_2:
          node_set: hex2
          query:
            synapse_class: EXC
        ALL_INH_2:
          node_set: hex2
          query:
            synapse_class: INH
        ALL_EXC_3:
          node_set: hex3
          query:
            synapse_class: EXC
        ALL_INH_3:
          node_set: hex3
          query:
            synapse_class: INH
        ALL_EXC_4:
          node_set: hex4
          query:
            synapse_class: EXC
        ALL_INH_4:
          node_set: hex4
          query:
            synapse_class: INH
        ALL_EXC_5:
          node_set: hex5
          query:
            synapse_class: EXC
        ALL_INH_5:
          node_set: hex5
          query:
            synapse_class: INH
        ALL_EXC_6:
          node_set: hex6
          query:
            synapse_class: EXC
        ALL_INH_6:
          node_set: hex6
          query:
            synapse_class: INH
        ALL_EXC_7:
          node_set: hex7
          query:
            synapse_class: EXC
        ALL_INH_7:
          node_set: hex7
          query:
            synapse_class: INH
        ALL_EXC_8:
          node_set: hex8
          query:
            synapse_class: EXC
        ALL_INH_8:
          node_set: hex8
          query:
            synapse_class: INH
        ALL_EXC_9:
          node_set: hex9
          query:
            synapse_class: EXC
        ALL_INH_9:
          node_set: hex9
          query:
            synapse_class: INH
        ALL_EXC_10:
          node_set: hex10
          query:
            synapse_class: EXC
        ALL_INH_10:
          node_set: hex10
          query:
            synapse_class: INH
        ALL_EXC_11:
          node_set: hex11
          query:
            synapse_class: EXC
        ALL_INH_11:
          node_set: hex11
          query:
            synapse_class: INH
        ALL_EXC_12:
          node_set: hex12
          query:
            synapse_class: EXC
        ALL_INH_12:
          node_set: hex12
          query:
            synapse_class: INH
        ALL_EXC_13:
          node_set: hex13
          query:
            synapse_class: EXC
        ALL_INH_13:
          node_set: hex13
          query:
            synapse_class: INH
        ALL_EXC_14:
          node_set: hex14
          query:
            synapse_class: EXC
        ALL_INH_14:
          node_set: hex14
          query:
            synapse_class: INH
        ALL_EXC_15:
          node_set: hex15
          query:
            synapse_class: EXC
        ALL_INH_15:
          node_set: hex15
          query:
            synapse_class: INH
        ALL_EXC_16:
          node_set: hex16
          query:
            synapse_class: EXC
        ALL_INH_16:
          node_set: hex16
          query:
            synapse_class: INH
        ALL_EXC_17:
          node_set: hex17
          query:
            synapse_class: EXC
        ALL_INH_17:
          node_set: hex17
          query:
            synapse_class: INH
        ALL_EXC_18:
          node_set: hex18
          query:
            synapse_class: EXC
        ALL_INH_18:
          node_set: hex18
          query:
            synapse_class: INH
        ALL_EXC_19:
          node_set: hex19
          query:
            synapse_class: EXC
        ALL_INH_19:
          node_set: hex19
          query:
            synapse_class: INH
        ALL_EXC_20:
          node_set: hex20
          query:
            synapse_class: EXC
        ALL_INH_20:
          node_set: hex20
          query:
            synapse_class: INH
        ALL_EXC_21:
          node_set: hex21
          query:
            synapse_class: EXC
        ALL_INH_21:
          node_set: hex21
          query:
            synapse_class: INH
        ALL_EXC_22:
          node_set: hex22
          query:
            synapse_class: EXC
        ALL_INH_22:
          node_set: hex22
          query:
            synapse_class: INH
        ALL_EXC_23:
          node_set: hex23
          query:
            synapse_class: EXC
        ALL_INH_23:
          node_set: hex23
          query:
            synapse_class: INH
        ALL_EXC_24:
          node_set: hex24
          query:
            synapse_class: EXC
        ALL_INH_24:
          node_set: hex24
          query:
            synapse_class: INH
        ALL_EXC_25:
          node_set: hex25
          query:
            synapse_class: EXC
        ALL_INH_25:
          node_set: hex25
          query:
            synapse_class: INH
        ALL_EXC_26:
          node_set: hex26
          query:
            synapse_class: EXC
        ALL_INH_26:
          node_set: hex26
          query:
            synapse_class: INH
        ALL_EXC_27:
          node_set: hex27
          query:
            synapse_class: EXC
        ALL_INH_27:
          node_set: hex27
          query:
            synapse_class: INH
        ALL_EXC_28:
          node_set: hex28
          query:
            synapse_class: EXC
        ALL_INH_28:
          node_set: hex28
          query:
            synapse_class: INH
        ALL_EXC_29:
          node_set: hex29
          query:
            synapse_class: EXC
        ALL_INH_29:
          node_set: hex29
          query:
            synapse_class: INH
        ALL_EXC_30:
          node_set: hex30
          query:
            synapse_class: EXC
        ALL_INH_30:
          node_set: hex30
          query:
            synapse_class: INH
        ALL_EXC_31:
          node_set: hex31
          query:
            synapse_class: EXC
        ALL_INH_31:
          node_set: hex31
          query:
            synapse_class: INH
        ALL_EXC_32:
          node_set: hex32
          query:
            synapse_class: EXC
        ALL_INH_32:
          node_set: hex32
          query:
            synapse_class: INH
        ALL_EXC_33:
          node_set: hex33
          query:
            synapse_class: EXC
        ALL_INH_33:
          node_set: hex33
          query:
            synapse_class: INH
        ALL_EXC_34:
          node_set: hex34
          query:
            synapse_class: EXC
        ALL_INH_34:
          node_set: hex34
          query:
            synapse_class: INH
        ALL_EXC_35:
          node_set: hex35
          query:
            synapse_class: EXC
        ALL_INH_35:
          node_set: hex35
          query:
            synapse_class: INH
        ALL_EXC_36:
          node_set: hex36
          query:
            synapse_class: EXC
        ALL_INH_36:
          node_set: hex36
          query:
            synapse_class: INH
        ALL_EXC_37:
          node_set: hex37
          query:
            synapse_class: EXC
        ALL_INH_37:
          node_set: hex37
          query:
            synapse_class: INH
        ALL_EXC_38:
          node_set: hex38
          query:
            synapse_class: EXC
        ALL_INH_38:
          node_set: hex38
          query:
            synapse_class: INH
        ALL_EXC_39:
          node_set: hex39
          query:
            synapse_class: EXC
        ALL_INH_39:
          node_set: hex39
          query:
            synapse_class: INH
        ALL_EXC_40:
          node_set: hex40
          query:
            synapse_class: EXC
        ALL_INH_40:
          node_set: hex40
          query:
            synapse_class: INH
        ALL_EXC_41:
          node_set: hex41
          query:
            synapse_class: EXC
        ALL_INH_41:
          node_set: hex41
          query:
            synapse_class: INH
        ALL_EXC_42:
          node_set: hex42
          query:
            synapse_class: EXC
        ALL_INH_42:
          node_set: hex42
          query:
            synapse_class: INH
        ALL_EXC_43:
          node_set: hex43
          query:
            synapse_class: EXC
        ALL_INH_43:
          node_set: hex43
          query:
            synapse_class: INH
        ALL_EXC_44:
          node_set: hex44
          query:
            synapse_class: EXC
        ALL_INH_44:
          node_set: hex44
          query:
            synapse_class: INH
        ALL_EXC_45:
          node_set: hex45
          query:
            synapse_class: EXC
        ALL_INH_45:
          node_set: hex45
          query:
            synapse_class: INH
        ALL_EXC_46:
          node_set: hex46
          query:
            synapse_class: EXC
        ALL_INH_46:
          node_set: hex46
          query:
            synapse_class: INH
        ALL_EXC_47:
          node_set: hex47
          query:
            synapse_class: EXC
        ALL_INH_47:
          node_set: hex47
          query:
            synapse_class: INH
        ALL_EXC_48:
          node_set: hex48
          query:
            synapse_class: EXC
        ALL_INH_48:
          node_set: hex48
          query:
            synapse_class: INH
        ALL_EXC_49:
          node_set: hex49
          query:
            synapse_class: EXC
        ALL_INH_49:
          node_set: hex49
          query:
            synapse_class: INH
        ALL_EXC_50:
          node_set: hex50
          query:
            synapse_class: EXC
        ALL_INH_50:
          node_set: hex50
          query:
            synapse_class: INH
        ALL_EXC_51:
          node_set: hex51
          query:
            synapse_class: EXC
        ALL_INH_51:
          node_set: hex51
          query:
            synapse_class: INH
        ALL_EXC_52:
          node_set: hex52
          query:
            synapse_class: EXC
        ALL_INH_52:
          node_set: hex52
          query:
            synapse_class: INH
        ALL_EXC_53:
          node_set: hex53
          query:
            synapse_class: EXC
        ALL_INH_53:
          node_set: hex53
          query:
            synapse_class: INH
        ALL_EXC_54:
          node_set: hex54
          query:
            synapse_class: EXC
        ALL_INH_54:
          node_set: hex54
          query:
            synapse_class: INH
        ALL_EXC_55:
          node_set: hex55
          query:
            synapse_class: EXC
        ALL_INH_55:
          node_set: hex55
          query:
            synapse_class: INH
        ALL_EXC_56:
          node_set: hex56
          query:
            synapse_class: EXC
        ALL_INH_56:
          node_set: hex56
          query:
            synapse_class: INH
        ALL_EXC_57:
          node_set: hex57
          query:
            synapse_class: EXC
        ALL_INH_57:
          node_set: hex57
          query:
            synapse_class: INH
        ALL_EXC_58:
          node_set: hex58
          query:
            synapse_class: EXC
        ALL_INH_58:
          node_set: hex58
          query:
            synapse_class: INH
        ALL_EXC_59:
          node_set: hex59
          query:
            synapse_class: EXC
        ALL_INH_59:
          node_set: hex59
          query:
            synapse_class: INH
        ALL_EXC_60:
          node_set: hex60
          query:
            synapse_class: EXC
        ALL_INH_60:
          node_set: hex60
          query:
            synapse_class: INH
        ALL_EXC_61:
          node_set: hex61
          query:
            synapse_class: EXC
        ALL_INH_61:
          node_set: hex61
          query:
            synapse_class: INH
        ALL_EXC_62:
          node_set: hex62
          query:
            synapse_class: EXC
        ALL_INH_62:
          node_set: hex62
          query:
            synapse_class: INH
        ALL_EXC_63:
          node_set: hex63
          query:
            synapse_class: EXC
        ALL_INH_63:
          node_set: hex63
          query:
            synapse_class: INH
        ALL_EXC_64:
          node_set: hex64
          query:
            synapse_class: EXC
        ALL_INH_64:
          node_set: hex64
          query:
            synapse_class: INH
        ALL_EXC_65:
          node_set: hex65
          query:
            synapse_class: EXC
        ALL_INH_65:
          node_set: hex65
          query:
            synapse_class: INH
        ALL_EXC_66:
          node_set: hex66
          query:
            synapse_class: EXC
        ALL_INH_66:
          node_set: hex66
          query:
            synapse_class: INH
        ALL_EXC_67:
          node_set: hex67
          query:
            synapse_class: EXC
        ALL_INH_67:
          node_set: hex67
          query:
            synapse_class: INH
        ALL_EXC_68:
          node_set: hex68
          query:
            synapse_class: EXC
        ALL_INH_68:
          node_set: hex68
          query:
            synapse_class: INH
        ALL_EXC_69:
          node_set: hex69
          query:
            synapse_class: EXC
        ALL_INH_69:
          node_set: hex69
          query:
            synapse_class: INH
        ALL_EXC_70:
          node_set: hex70
          query:
            synapse_class: EXC
        ALL_INH_70:
          node_set: hex70
          query:
            synapse_class: INH
        ALL_EXC_71:
          node_set: hex71
          query:
            synapse_class: EXC
        ALL_INH_71:
          node_set: hex71
          query:
            synapse_class: INH
        ALL_EXC_72:
          node_set: hex72
          query:
            synapse_class: EXC
        ALL_INH_72:
          node_set: hex72
          query:
            synapse_class: INH
        ALL_EXC_73:
          node_set: hex73
          query:
            synapse_class: EXC
        ALL_INH_73:
          node_set: hex73
          query:
            synapse_class: INH
        ALL_EXC_74:
          node_set: hex74
          query:
            synapse_class: EXC
        ALL_INH_74:
          node_set: hex74
          query:
            synapse_class: INH
        ALL_EXC_75:
          node_set: hex75
          query:
            synapse_class: EXC
        ALL_INH_75:
          node_set: hex75
          query:
            synapse_class: INH
        ALL_EXC_76:
          node_set: hex76
          query:
            synapse_class: EXC
        ALL_INH_76:
          node_set: hex76
          query:
            synapse_class: INH


      windows:
        unconn_2nd_half: { bounds: [ 500, 1000 ], window_type: spontaneous }
        conn_spont: { bounds: [ 1500, 4500 ], window_type: spontaneous }

    features:
    - type: multi
      groupby: [simulation_id, circuit_id, neuron_class, window]
      function: cortexetl.calculate_features.calculate_features_multi
      params:
        export_all_neurons: true
        histograms:
          # 1ms:
          #   bin_size: 1.0
          #   smoothing:
          #     1sd: {smoothing_type: Gaussian, kernel_sd: 1.0}
          #     3sd: {smoothing_type: Gaussian, kernel_sd: 3.0}
          3ms:
            bin_size: 3.0
            smoothing:
              1sd: {smoothing_type: Gaussian, kernel_sd: 1.0}

    custom:

      multi_hex_analysis: true
      
      independent_variables: ["ca", "desired_connected_proportion_of_invivo_frs", "depol_stdev_mean_ratio"]
      vivo_frs: {L1_INH: 1.5, L23_EXC: 0.07, L23_INH: 0.961, L4_EXC: 0.619, L4_INH: 1.184, L5_EXC: 1.252, L5_INH: 2.357, L6_EXC: 0.47, L6_INH: 1.5}
      heatmap_dims: {hor_key: "ca", ver_key: "none", x_key: "desired_connected_proportion_of_invivo_frs", y_key: "depol_stdev_mean_ratio"}
      raster_windows: [{conn_spont: 5.0}]
      fr_comparison_pairs: [['unconn_2nd_half', 'conn_spont'], ['desired_connected_fr', 'conn_spont'], ['desired_unconnected_fr', 'unconn_2nd_half'], ['connection_fr_increase', 'connection_fr_error']]
      desired_connected_fr_key: desired_connected_fr
      desired_unconnected_fr_key: desired_unconnected_fr
      ei_corr_r_val_limits: [0.15, 0.4]
      depol_bc_key: gExc

      campaign_short_name: "1st nbS1 conn."
      fr_df_name: "connection_data_from_mgfix_5-FullCircuit-2-BetterMinis-FprScan_10-04-23.parquet"

  AllCompartments_spikes:
    extraction:
      report: {type: spikes}
      neuron_classes:
        ALL: {}
      node_set: AllCompartments
      windows:
        conn_spont: { bounds: [ 1500, 4500 ], window_type: spontaneous }

    custom:
      create_flatspace_videos: true
      independent_variables: [ca, desired_connected_proportion_of_invivo_frs, depol_stdev_mean_ratio]
      flatmap: /gpfs/bbp.cscs.ch/project/proj83/home/isbister/data/reference_data_do_not_delete/BB_Rat_SSCX_flatmap_v2.nrrd
      flatspace_videos:
        fsv_0: {window: conn_spont, t_step: 50.0, n_spatial_bins: 20000, temporal_smoothing_sigma: 1.0, delete_images: False, stim_anal: null}

        
